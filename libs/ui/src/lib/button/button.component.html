<button
  (click)="triggerAction()"
  type="button"
  [ngClass]="{
    'ui-button__primary': category === buttonCategory.PRIMARY,
    'ui-button__secondary': category === buttonCategory.SECONDARY,
    'ui-button__tertiary': category === buttonCategory.TERTIARY,
    'button-small': size === buttonSize.SMALL,
    'button-medium': size === buttonSize.MEDIUM,
    'button-large': size === buttonSize.LARGE,
    'inline-flex items-center gap-x-2': icon
  }"
  [class.safe-btn-success]="variant === 'success'"
  [class.safe-btn-grey]="variant === 'grey'"
  [class.mat-icon-button]="isIcon"
  [disabled]="disabled"
  (click)="emittedEventSubject.next('click')"
>
  <ng-template #prefixIconTmpl></ng-template>
  <ng-content></ng-content>
  <ng-template #suffixIconTmpl></ng-template>
</button>

<ng-container
  *ngIf="
    iconPosition === buttonIconPosition.PREFIX;
    then prefixIconTmpl;
    else suffixIconTmpl
  "
>
  <ng-container *ngIf="icon">
    <svg
      class="-ml-0.5 h-5 w-5"
      viewBox="0 0 20 20"
      fill="currentColor"
      aria-hidden="true"
    >
      <path
        fill-rule="evenodd"
        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
        clip-rule="evenodd"
      />
    </svg>
  </ng-container>
</ng-container>
