<button
  type="button"
  [ngClass]="{
    'ui-button': !isIcon,
    'ui-button-icon': isIcon,
    primary: category === buttonCategory.PRIMARY,
    secondary: category === buttonCategory.SECONDARY,
    tertiary: category === buttonCategory.TERTIARY,
    small: size === buttonSize.SMALL,
    medium: size === buttonSize.MEDIUM,
    large: size === buttonSize.LARGE,
    'button-primary': variant === buttonVariant.PRIMARY,
    'button-danger': variant === buttonVariant.DANGER,
    'button-grey':
      variant === buttonVariant.GREY || variant === buttonVariant.LIGHT,
    'button-success': variant === buttonVariant.SUCCESS,
    'inline-flex items-center gap-x-2': (icon || loading) && !isIcon
  }"
  [disabled]="disabled"
  (click)="emittedEventSubject.next('click')"
>
  <ng-container *ngIf="icon">
    <ui-icon
      class="flex"
      [ngClass]="{
        'order-1': iconPosition === buttonIconPosition.PREFIX,
        'order-2': iconPosition === buttonIconPosition.SUFFIX
      }"
      [icon]="icon"
      [inline]="true"
      [size]="iconSize"
      [variant]="variant"
      [category]="category"
    ></ui-icon>
  </ng-container>
  <ng-container *ngIf="loading">
    <ui-spinner
      [ngClass]="{
        'order-1': iconPosition === buttonIconPosition.PREFIX,
        'order-2': iconPosition === buttonIconPosition.SUFFIX
      }"
      [size]="size"
      [variant]="variant"
      [category]="category"
    ></ui-spinner>
  </ng-container>
  <span
    [ngClass]="{
      'order-1': iconPosition === buttonIconPosition.SUFFIX,
      'order-2': iconPosition === buttonIconPosition.PREFIX
    }"
  >
    <ng-container *ngIf="!isIcon">
      <ng-content></ng-content>
    </ng-container>
  </span>
</button>
