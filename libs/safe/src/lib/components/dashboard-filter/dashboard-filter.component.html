<dx-drawer
  [openedStateMode]="'overlap'"
  [position]="position"
  [revealMode]="'slide'"
  [(opened)]="isDrawerOpen"
  template="template"
  [height]="'inherit'"
  [minSize]="48"
>
  <div *dxTemplate="let data of 'template'">
    <div
      [ngClass]="{
        'h-full':
          position === filterPosition.LEFT || position === filterPosition.RIGHT,
        'flex-col':
          position === filterPosition.TOP || position === filterPosition.BOTTOM
      }"
      class="dashboard-filter-container flex"
    >
      <header
        [ngClass]="{
          'order-1':
            position === filterPosition.BOTTOM ||
            position === filterPosition.RIGHT,
          'order-2':
            position === filterPosition.TOP || position === filterPosition.LEFT,
          'w-12 h-full px-1 py-4':
            position === filterPosition.LEFT ||
            position === filterPosition.RIGHT,
          'w-full h-12 py-1 px-4':
            position === filterPosition.TOP ||
            position === filterPosition.BOTTOM
        }"
        [style.background-color]="themeColor"
        class="dashboard-filter-header relative flex"
      >
        <section *ngIf="isDrawerOpen"></section>
        <section></section>
        <section
          [ngClass]="{
            'flex-col':
              position === filterPosition.LEFT ||
              position === filterPosition.RIGHT
          }"
          class="flex"
        >
          <ng-container *ngFor="let position of positionList">
            <safe-button
              matSuffix
              [isIcon]="true"
              icon="{{ position.position + '_panel_open' }}"
              [ariaLabel]="''"
              (click)="changeFilterPosition(position.position)"
            ></safe-button>
          </ng-container>
        </section>
        <div
          [ngClass]="{
            bottom: position === filterPosition.BOTTOM,
            top: position === filterPosition.TOP,
            right: position === filterPosition.RIGHT,
            left: position === filterPosition.LEFT
          }"
          [style.background-color]="themeColor"
          class="dashboard-filter-tab absolute h-10 py-2 px-3 flex"
          (click)="toggleCollapse()"
        >
          <safe-icon icon="view_stream" class="cursor-pointer"></safe-icon>
        </div>
      </header>
      <div
        [ngClass]="{
          'order-1':
            position === filterPosition.TOP || position === filterPosition.LEFT,
          'order-2':
            position === filterPosition.BOTTOM ||
            position === filterPosition.RIGHT,
          'h-52 w-full':
            position === filterPosition.TOP ||
            position === filterPosition.BOTTOM,
          'w-52 h-full':
            position === filterPosition.LEFT ||
            position === filterPosition.RIGHT
        }"
        class="dashboard-filter-content"
      ></div>
    </div>
  </div>
  <ng-content select="[content]"></ng-content>
</dx-drawer>
