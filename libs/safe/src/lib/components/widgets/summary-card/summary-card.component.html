<div class="group flex-1">
  <kendo-tilelayout-item-header *ngIf="header" class="widget-header">
    <span class="widget-title" [title]="settings.title">{{
      settings.title
    }}</span>
    <mat-form-field appearance="fill" *ngIf="settings.isDynamic === true">
      <mat-label>Display mode</mat-label>
      <mat-select [(ngModel)]="displayMode">
        <mat-option value="card"> Card </mat-option>
        <mat-option value="grid"> Grid </mat-option>
      </mat-select>
    </mat-form-field>
  </kendo-tilelayout-item-header>
  <safe-button
    *ngIf="export"
    [isIcon]="true"
    icon="get_app"
    class="export-button"
    (click)="pdf.saveAs(exportName)"
  ></safe-button>
  <kendo-pdf-export #pdf paperSize="A4" margin="2cm" style="overflow: auto">
    <div
      #summaryCardGrid
      class="summary-card-container k-widget k-tile-layout k-grid-flow-col"
      style.grid-template-columns="{{ 'repeat(' + colsNumber + ', 1fr)' }}"
      *ngIf="displayMode === 'card' || settings.isDynamic === false"
    >
      <safe-summary-card-item
        *ngFor="let card of cards; let i = index"
        class="k-tilelayout-item k-card"
        [style.order]="i"
        style.grid-column-end="{{
          'span ' + (card.width > colsNumber ? colsNumber : card.width)
        }}"
        style.grid-row-end="{{ 'span ' + card.height }}"
        [card]="card"
      >
      </safe-summary-card-item>
    </div>
    <div *ngIf="displayMode === 'grid' && settings.isDynamic === true">
      <safe-grid-widget
        class="flex-1 h-full w-full"
        [header]="false"
        [settings]="gridSettings"
      ></safe-grid-widget>
      <!--(goToNextStep)="goToNextStep.emit($event)"
        (edit)="edit.emit($event)"
        [widget]="widget"
        [canUpdate]="canUpdate"-->
    </div>
  </kendo-pdf-export>
</div>
